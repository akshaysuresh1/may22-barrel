## Team Barrel

**Topic:** Predicting Fertilizer Input for Rice Cultivation in India

**Team members**:
* [Akshay Suresh](https://www.linkedin.com/in/akshaysureshas1/)
* [Arman Darbinyan](https://www.linkedin.com/in/armandarbin/)
* [Dmitry Shcherbakov](https://www.linkedin.com/in/dmitry-osu/)
* [Emilio Codecido](https://www.linkedin.com/in/emilio-codecido/)
* [Leonardo Santana](https://www.linkedin.com/in/leonardo-santana-4455594b/)

This project was completed as part of the Erdos Institute Data Science Bootcamp, May 2022. Special mention to [James Bramante](https://www.linkedin.com/in/jamesbramante/) for mentoring us throughout the duration of the bootcamp. <br>

---

## Table of Contents
- [Project Goal](#project)
- [Methodology](#methods)
   - [Clustering](#clustering)
   - [Modeling](#models)
- [Future Work](#future)
- [Troubleshooting](#troubleshooting)

---

## Project Goal <a name="project"></a>

Home to over 1.38 billion people, India is tackling a severe hunger crisis. Rice is the staple food crop for over 50% of India's
population. Though the country has achieved grain self-sufficiency in production, nearly 14% of its population is still undernourished. India's agricultural landscape is primarily rural, where widespread poverty, low literacy rates, and poor infrastructure lead to questions over its sustainability. Indiscriminate use of fertilizers has led to significant vagaries in crop production despite consistent agricultural subsidies. <br>

With the current global shortage of fertilizers, precision farming is vital to eliminate redundant costs and streamline resources to ensure equitable food access for all communities. Here, we assist agriculture policy-makers in their decisions by predicting the expected NPK fertilizer input
(NPK: nitrogen, phosphorus, and potash) to obtain a specific rice yield.  <br>

## Methodology <a name="methods"></a>
Rice is a hardy crop capable of thriving in a variety of soils, including loams, silts, and gravel. Collating up to 26 years of district-level rice cultivation (cropped area, yield, irrigated area) and environment data (temperature, precipitation, wind speed, evapotranspiration), our analysis involved two key steps. <br>

1. Firstly, we grouped districts with similar ecological parameters into clusters. To do so, we experimented with two unsupervised learning approaches, namely, K-means and hierarchical clustering. <br>

2. At the level of clusters, we regressed the historical NPK consumption data against rice yield. Here, we trialed simple linear regression, random forest regression, and support vector regression. <br>

## Clustering <a name="clustering"></a>

Based on environmental variables, both K-means and hierarchical clustering favor the grouping of Indian districts into 6 rice-growing clusters. Here is a map of India showing the spatial grouping of districts generated by our hierarchical clustering algorithm. <br>

<p align="center">
<img  src="https://github.com/akshaysuresh1/may22-barrel/blob/main/media/clusters.png">
</p>

We note that the above map bears some visual resemble to the [Koppen-Geiger climate classification map of India](https://en.wikipedia.org/wiki/Climate_of_India#/media/File:Koppen-Geiger_Map_IND_present.svg). However, we caution readers against performing meticulous comparisons between these maps as our algorithms additionally incorporate soil-dependent features such as surface runoff and evapotranspiration. <br>

## Modeling <a name="models"></a>
For every cluster, we independently regressed their nitrogen, phosphorous, and potash fertilizer inputs per unit area against rice yield. Performing a 80-20 train-test split, we evaluated model performance on our test data using the [SMAPE](https://en.wikipedia.org/wiki/Symmetric_mean_absolute_percentage_error) metric. As shown below, support vector regression marginally outperforms other models with a smaller SMAPE. <br>

<p align="center">
<img  src="https://github.com/akshaysuresh1/may22-barrel/blob/main/media/smape_performance.png">
</p>


## Future Work <a name="future"></a>
Future extensions to our model will incorporate soil nutrient data, solar irradiance data, and knowledge of off-season farming practices (e.g., crop rotation) to improve the accuracy of our estimated fertilizer inputs. <br>

## Troubleshooting <a name="troubleshooting"></a>
Please submit an issue to voice any problems or requests. Suggestions that will help improve our data analyses are always welcome.
